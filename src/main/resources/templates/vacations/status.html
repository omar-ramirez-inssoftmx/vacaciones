<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Estatus de Vacaciones</title>
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/theme.css">


</head>
<body>

<nav class="navbar navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="/home">
      Sistema de Vacaciones
    </a>

    <form method="post" action="/logout">
      <button class="btn btn-outline-light btn-sm">
        Salir
      </button>
    </form>
  </div>
</nav>

<div class="container">

  <div class="status-card">

    <h4>Estatus de Vacaciones</h4>
    <p class="text-muted">
      Usuario: <b th:text="${username}"></b>
    </p>

    <!-- SIN REGISTROS -->
    <div class="alert alert-info"
         th:if="${#lists.isEmpty(requests)}">
      Aún no tienes solicitudes registradas.
    </div>

    <!-- TABLA -->
    <table class="table table-striped table-bordered"
           th:if="${!#lists.isEmpty(requests)}">

      <thead>
        <tr>
          <th>ID</th>
          <th>Inicio</th>
          <th>Fin</th>
          <th>Días</th>
          <th>Estatus</th>
        </tr>
      </thead>

      <tbody>

        <tr th:each="r : ${requests}">

          <td th:text="${r.id}"></td>
          <td th:text="${r.startDate}"></td>
          <td th:text="${r.endDate}"></td>
          <td th:text="${r.days}"></td>

          <td>

            <span class="badge bg-secondary"
                  th:if="${r.status == 'PENDING'}">
              PENDIENTE
            </span>

            <span class="badge bg-success"
                  th:if="${r.status == 'APPROVED'}">
              APROBADA
            </span>

            <span class="badge bg-danger"
                  th:if="${r.status == 'REJECTED'}">
              RECHAZADA
            </span>

            <span class="badge bg-dark"
                  th:if="${r.status != 'PENDING'
                          and r.status != 'APPROVED'
                          and r.status != 'REJECTED'}"
                  th:text="${r.status}">
            </span>

          </td>

        </tr>

      </tbody>

    </table>

    <!-- BOTONES -->
    <div class="mt-3">

      <a class="btn btn-outline-primary"
         href="/vacations/request">
         Nueva solicitud
      </a>

      <a class="btn btn-outline-secondary"
         href="/home">
         Volver
      </a>

    </div>

  </div>

</div>

<script src="/js/bootstrap.bundle.min.js"></script>

</body>
</html>
